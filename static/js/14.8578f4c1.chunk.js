(this.webpackJsonpportfolio=this.webpackJsonpportfolio||[]).push([[14],{116:function(e,t,r){},123:function(e,t,r){"use strict";r.r(t);var n=r(1),c=r(0),s=r(4),i=r.n(s),o=r(58),a=r(117),u=r(69),d=r(115),l=r(86),f=r(9),b=r(79),p=r(2),h=r(28),w=r(87);r(116);d.a.init();t.default=({className:e,delay:t,...r})=>{const{rgbBackgroundLight:s,themeId:d}=Object(h.c)(),j=Object(c.useRef)(),g=Object(c.useRef)(),m=Object(c.useRef)(),O=Object(c.useRef)(),v=Object(c.useRef)(),y=Object(c.useRef)(),E=Object(c.useRef)(),x=Object(f.h)(),L=Object(f.d)(j);return Object(c.useEffect)((()=>{const{clientWidth:e,clientHeight:t}=j.current;m.current=new o.hc({alpha:!0,antialias:!1,canvas:g.current,powerPreference:"high-performance"}),m.current.setSize(e,t),m.current.setPixelRatio(2),m.current.toneMapping=o.a,m.current.outputEncoding=o.ic,O.current=new o.ub(45,e/t,.5,2.25),O.current.position.z=.8,v.current=new o.Ib,v.current.fog=new o.y(16777215,0,2.25),y.current=new a.c(m.current,{frameBufferType:o.D});const r=new a.g(v.current,O.current);y.current.addPass(r);const n=new a.f(v.current,O.current),c=new a.h(O.current,n.renderTarget.texture,{blendFunction:a.a.MULTIPLY,samples:21,rings:4,distanceThreshold:1,distanceFalloff:0,rangeThreshold:.015,rangeFalloff:.002,luminanceInfluence:.9,radius:20,scale:.25,bias:.25}),s=new a.b({opacity:1,blendFunction:a.a.SCREEN,kernelSize:a.e.SMALL,luminanceThreshold:.65,luminanceSmoothing:.07,height:600});s.blendMode.opacity.value=1;const i=new a.d(O.current,c,s);i.renderToScreen=!0,y.current.addPass(n),y.current.addPass(i);return(new l.a).load(w.a,(e=>{e.scene.position.y=-1.6,v.current.add(e.scene),y.current.render()})),()=>{Object(b.b)(v.current),Object(b.a)(m.current)}}),[]),Object(c.useEffect)((()=>{const e=new o.c(16777215,"dark"===d?.1:.2),t=new o.Fb(16777215,6,10,10);t.position.set(4.5,-1.3,-3),t.lookAt(0,0,0);const r=new o.Fb(16777215,6,15,15);return r.position.set(-10,.7,-10),r.lookAt(0,0,0),E.current=[e,t,r],E.current.forEach((e=>v.current.add(e))),v.current.fog.color=new o.m(...Object(p.f)(s)),v.current.fog.far=10,()=>{Object(b.c)(E.current)}}),[d,s]),Object(c.useEffect)((()=>{let e,t;const r=r=>{const{rotation:n}=v.current,{innerWidth:c,innerHeight:s}=window,i=(r.clientX-c/2)/c,o=(r.clientY-s/2)/s;t||(t=Object(u.d)({x:n.x,y:n.y},(({x:e,y:t})=>{n.set(e,t,n.z),y.current.render()}))),e=Object(u.c)({from:t.get(),to:{x:o/2,y:i/2},stiffness:40,damping:40,velocity:t.getVelocity(),restSpeed:1e-5,mass:1.4}).start(t)};return L&&!x&&window.addEventListener("mousemove",r),function(){var t;window.removeEventListener("mousemove",r),null===(t=e)||void 0===t||t.stop()}}),[L,x]),Object(c.useEffect)((()=>{const e=()=>{const{clientWidth:e,clientHeight:t}=j.current;m.current.setSize(e,t),y.current.setSize(e,t),O.current.aspect=e/t,O.current.updateProjectionMatrix(),y.current.render()};return window.addEventListener("resize",e),e(),()=>{window.removeEventListener("resize",e)}}),[]),Object(n.jsx)("div",{className:i()("portrait",`portrait--${d}`,e),ref:j,style:{"--delay":t},role:"img","aria-label":"A 3D portrait of myself.",...r,children:Object(n.jsx)("canvas",{"aria-hidden":!0,className:"portrait__canvas",ref:g})})}}}]);
//# sourceMappingURL=14.8578f4c1.chunk.js.map